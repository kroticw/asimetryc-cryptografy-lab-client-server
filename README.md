#f0f# Протоколы аутентификации с использованием асимметричных криптосистем

Этот проект демонстрирует реализацию трех протоколов аутентификации, основанных на асимметричной криптографии (RSA):

1. Протокол односторонней аутентификации с меткой времени
2. Протокол односторонней аутентификации с использованием случайных чисел
3. Протокол взаимной аутентификации с использованием случайных чисел

## Структура проекта

```
├── server/               # Директория сервера
│   └── server.py         # Реализация сервера
├── client/               # Директория клиента
│   └── client.py         # Реализация клиента
├── requirements.txt      # Зависимости проекта
└── README.md             # Документация проекта
```

## Зависимости

Для работы приложения требуются следующие пакеты:
- Flask (для веб-сервера)
- pycryptodome (для криптографических операций)
- requests (для HTTP-запросов)

Установка зависимостей:
```bash
pip install -r requirements.txt
```

## Запуск приложения

### Запуск сервера

```bash
cd server
python server.py
```

При первом запуске сервер сгенерирует пару ключей RSA и будет слушать на всех сетевых интерфейсах (порт 5000).
Сервер выведет свой локальный IP-адрес, который нужно будет использовать при запуске клиентов на других устройствах.

### Запуск клиента

```bash
cd client
python client.py
```

При запуске клиент запросит:
1. ID клиента (любое уникальное имя)
2. IP-адрес сервера (если клиент и сервер на разных устройствах в одной сети, введите IP-адрес устройства, на котором запущен сервер)

Затем клиент автоматически:
- Сгенерирует пару ключей RSA
- Получит публичный ключ сервера
- Зарегистрируется на сервере

## Работа в локальной сети

Для использования приложения на разных устройствах в одной локальной сети:

1. Запустите сервер на одном из устройств. Обратите внимание на выведенный IP-адрес.
2. Убедитесь, что порт 5000 не заблокирован брандмауэром.
3. Запустите клиент на другом устройстве в той же сети.
4. При запросе IP-адреса сервера введите адрес устройства, на котором запущен сервер.

При необходимости проверить соединение между устройствами можно использовать команду ping:
```bash
ping <IP-адрес сервера>
```

## Описание протоколов

### 1. Односторонняя аутентификация с меткой времени

- Клиент подписывает сообщение, содержащее его ID и текущую временную метку
- Сервер проверяет подпись и актуальность временной метки
- Для защиты от атак воспроизведения используется временное окно (5 минут)

### 2. Односторонняя аутентификация с использованием случайных чисел

- Клиент запрашивает случайное число (nonce) у сервера
- Сервер генерирует nonce и отправляет клиенту
- Клиент подписывает nonce своим приватным ключом и отправляет подпись серверу
- Сервер проверяет подпись с помощью публичного ключа клиента

### 3. Взаимная аутентификация с использованием случайных чисел

- Клиент генерирует свое случайное число и отправляет его серверу
- Сервер генерирует свое случайное число и подписывает сообщение, содержащее оба nonce
- Клиент проверяет подпись сервера и подтверждает свою подлинность, подписывая то же сообщение
- Сервер проверяет подпись клиента

## Безопасность

Реализация включает следующие меры безопасности:
- Проверка актуальности временных меток
- Использование уникальных одноразовых случайных чисел
- Хеширование сообщений перед подписью (SHA-256)
- Использование асимметричной криптографии (RSA-2048) 